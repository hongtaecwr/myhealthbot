<!DOCTYPE html>
<html class="no-js">
<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1 ,maximum-scale=1.0, user-scalable=0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/fontawesome/4.1.0/css/font-awesome.min.css" />

  <title>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏û‡πâ‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢</title>

  <!-- Bootstrap Core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="css/theme2.css" rel="stylesheet">
  <link href="css/selectize.bootstrap3.css" rel="stylesheet">
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">
  <div class="container">


    <form id="contact" class="registerForm">

      <div class="alert alert-success" id="alertbox">
        <strong>Success!</strong> Your Synonym has uploaded.
      </div>

      <div class="text-center">
        <img src="img/icon.png" class="text-center" alt="Responsive image" width="90" height="90">
      </div>
      <h3 class="text-center font-weight-normal">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏û‡πâ‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢</h3>

      <label id="label-tags" for="ask-tags">‡∏Ñ‡∏≥‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ :</label>
      <fieldset class="form-group">
        <input id="common_word-tags" type="text" tabindex="1"  value="" required>
      </fieldset>
      <label id="label-tags" for="ask-tags">‡∏Ñ‡∏≥‡∏û‡πâ‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:</label>
      <fieldset class="form-group">
        <input id="synonym_word-tags" type="text" tabindex="2" value="" required>
      </fieldset>
      <fieldset class="form-group">
        <button type="button" onclick="submitfrom()" id="contact-submit">Submit</button>
      </fieldset>
      <p class="copyright">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏∏‡∏†‡∏≤‡∏û‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö</p>
    </form>
  </div>

  <!-- jQuery -->
  <script src="js/jquery.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="js/bootstrap.min.js"></script>
  <script src="js/standalone/selectize.min.js"></script>
  <script src="js/bootstrapValidator.min.js"></script>


  <script>
    var common_wordString = "";
    var synonym_wordString = "";

    $('.registerForm').bootstrapValidator({
      message: 'This value is not valid',
      feedbackIcons: {
        valid: 'glyphicon glyphicon-ok',
        invalid: 'glyphicon glyphicon-remove',
        validating: 'glyphicon glyphicon-refresh'
      },
      fields: {
        common_word: {
          validators: {
            notEmpty: {
              message: '‡∏Ñ‡∏≥‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö'
            }
          }
        },
        synonym_word: {
          validators: {
            notEmpty: {
              message: '‡∏Ñ‡∏≥‡∏û‡πâ‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö'
            }
          }
        },
      }
    }).on('success.form.bv', function (e) {
      submitfrom();
    });
    $('#alertbox').hide();


    function submitfrom() {
    var c_wordDatas = common_wordString.split(",");
    var sy_wordDatas = synonym_wordString.split(",");
    c_wordDatas = JSON.stringify(c_wordDatas);
    sy_wordDatas = JSON.stringify(sy_wordDatas);
    var data = '{"common_word":' + c_wordDatas + ',"synonym_word":' + sy_wordDatas + '}';
      callParseServerCloudCode("addSynonym", data, function (response) {
        if (response) {
          console.log(response);
          alert("ü§ñ:‡∏à‡∏≥‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß !");
          location.reload();
        }
      });
      $(this).scrollTop(0);
      $('.registerForm').data('bootstrapValidator').resetForm();
      $('#alertbox').show();
      $('#alertbox').fadeTo(2000, 500).slideUp(500, function () {
        $('#alertbox').hide();
      });
    }

    getAllTag();

    function getAllTag() {

      setTimeout(function () {
        document.getElementById("myNav").style.visibility = "hidden";

        // selectize script
        $('#common_word-tags').selectize({
          plugins: ['remove_button'],
          persist: false,
          createOnBlur: true,
          delimiter: ',',
          create: true,
          placeholder: "‡πÉ‡∏™‡πà‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ñ‡∏≤‡∏°...",
          onChange: function (value) {
            common_wordString = value;
          }
        });

        $('#synonym_word-tags').selectize({
          plugins: ['remove_button'],
          persist: false,
          createOnBlur: true,
          delimiter: ',',
          create: true,
          placeholder: "‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ö‡∏≠‡∏ó‡∏ï‡∏≠‡∏ö...",
          onChange: function (value) {
            synonym_wordString = value;
          }
        });
      }, 1000);

    }


    function callParseServerCloudCode(methodName, requestMsg, responseMsg) {
      var xhr = new XMLHttpRequest();
      xhr.open('POST', 'https://replyserver.herokuapp.com/parse/functions/' + methodName, true);
      xhr.setRequestHeader('Content-type', 'application/json');
      xhr.setRequestHeader('X-Parse-Application-Id', 'myAppId');
      xhr.setRequestHeader('X-Parse-Master-Key', 'myMasterKey');

      xhr.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          var myArr = JSON.parse(this.responseText);
          responseMsg(myArr.result);
        }
      };

      xhr.send(requestMsg);
    }
  </script>

</body>

</html>